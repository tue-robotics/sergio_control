# Publish all joint states ----------------------------------
# Creates the /joint_states topic necessary in ROS
joint_state_controller:
   type:         joint_state_controller/JointStateController
   publish_rate: 50

# Joint Trajectory Controller -------------------------------
# For detailed explanations of parameter see http://wiki.ros.org/joint_trajectory_controller
effort_trajectory_controller:
  type: effort_controllers/JointTrajectoryController
  joints:
    - joint1

  gains:
    joint1: 
      p: 2.0
      # i: 0.0
      # d: 0.01
      # i_clamp: 1

# Individual Position Controllers ---------------------------------------
# Allows to send individual ROS msg of Float64 to each joint separately
joint1_effort_controller:
   type: effort_controllers/JointPositionController
   joint: joint1
   pid: {p: 100.0, i: 0.01, d: 10.0}

sergio_control_node:
  ethercat_actuators:
    actuator1:
      encoder:
        slave: 2
        channel: 0
        encoder_counts_per_revolution: 1024 # 256 impulses but we count every transition, so * 4 = 1024
      motor:
        slave: 1
        channel: 0
        volt_per_newton_meter: 22.801652754998294 # motor_constant = Nm/A = 25.9e-3, elmo constant 1.6933, V/Nm => 1 / (25.9e-3 * 1.6933)
  frequency: 100
